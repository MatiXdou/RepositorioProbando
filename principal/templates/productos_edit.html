{% load static %}
<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Editar Producto</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="styleSheet" href="{% static 'css/style.css' %}">
    </head>
    <body>
        <div style="text-align: center;">
            <h2 style="padding: 20px 0 20px 0;">Formulario para ACTUALIZAR datos</h2>
            <form id="form-actualizar" action="" method="POST" enctype="multipart/form-data">
                {% csrf_token %}

                <pre>Nombre:        <input type="text" name="nombre" id="nombreProd" value="{{producto.nombre}}" required></pre>
                <div id="error2" class="errores"></div>
                <pre>Descripcion:   <input type="text" name="descripcion" id="descripcion" value="{{producto.descripcion}}" required></pre>
                <div id="error3" class="errores"></div>
                <pre>Imagen:   <input type="file" name="imagen" id="imagen"></pre>
                {% if producto.imagen %} 
                <pre> <img src="{{ producto.imagen.url }}" width="50px"> </pre>
                {% endif %}
                <pre>Precio:   <input type="number" name="precio" id="precio" value="{{producto.precio}}" required></pre>
                <div id="error4" class="errores"></div>
                <pre>Stock:   <input type="number" name="stock" id="stock" value="{{producto.stock}}" required></pre>
                <div id="error5" class="errores"></div>
                <pre>Categoria:         <select name="categoria" id="categoria" >
                {% for categoria in categorias %}
                    {% if categoria.nombre == producto.id_categoria.nombre %}
                        <option value="{{categoria.id_categoria}}" selected>{{categoria.nombre}}</option>
                    {% else %}
                        <option value="{{categoria.id_categoria}}" >{{categoria.nombre}}</option>
                    {% endif %}
                {% endfor %}
                </select></pre>
                <div id="error6" class="errores"></div>
                <input type="submit" name="opcion" value="Actualizar">
            </form>
            <br>
            <div id="idMensajes">
                {% if mensaje %}
                    {{mensaje}}
                {% endif %}
            </div>
            <br>
            <a href="{% url 'crud' %}"> Volver </a>
        </div>
        <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <script src="{% static 'js/javascript.js' %}"></script>
        </body>
</html>